<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Peace Cartography Scroll</title>
  <style>
    body, html {
      margin: 0;
      font-family: sans-serif;
    }

    .container {
  display: flex;
  flex-direction: row;
  height: 80vh;
  padding-top: 120px; 
}


    .visual-column {
      flex: 2;
      position: sticky;
      top: 0;
      height: 80vh;
      overflow: hidden;
    }

    .image-stack {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .figure-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.5s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      padding: 20px;
      box-sizing: border-box;
    }

    .figure-container img.figure {
      max-width: 90%;
      max-height: 80%;
      object-fit: contain;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .caption {
      margin-top: 5px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px 15px;
      font-size: 14px;
      font-style: italic;
      max-width: 90%;
      color:#444;
      text-align: left;
    }

    .content-column {
      flex: 1.25;
      padding: 10px;
      overflow-y: scroll;
     scrollbar-width: none;        /* Firefox */
     -ms-overflow-style: none;     /* IE/Edge */
    }

.content-column::-webkit-scrollbar {
  display: none;                /* Chrome, Safari */
}

    .step {
      margin-bottom: 100vh;
      font-size: 18px;
      line-height: 1.6;
    }

    .notes-column {
      flex: 0.35;
      position: sticky;
      top: 0;
      height: 80vh;
      padding: 20px;
      font-size: 14px;
      line-height: 1.4;
      overflow-y: auto;
    }

    .main-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: white;
  z-index: 1000;
  padding: 20px 40px 10px;
}

.top-nav {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
}

.top-nav a {
  text-decoration: none;
}

.top-nav a:hover {
  text-decoration: underline;
}

.page-title {
  margin-top: 15px;
  font-size: 24px;
  font-weight: 600;
  color: black;
  
}

.chapter-link {
  color: rgb(211, 211, 211);
}

#chapter-link-active {
  color: rgb(0, 0, 0);
}

  </style>
</head>
<body>
<header class="main-header">
  <nav class="top-nav">
    <a href="#" id="chapter-link-active" data-chapter="intro">INTRODUCTION</a>
    <a href="#" class="chapter-link" data-chapter="chapter1">I 51:49 PRAGMATIC ABSURDITIES OF DAYTON</a>
    <a href="#" class="chapter-link" data-chapter="chapter2">II FOLLOW THE LINE</a>
    <a href="#" class="chapter-link" data-chapter="chapter3">III ENVIRONMENTAL LEGACIES OF PEACEMAKING</a>
  </nav>
  <h1 class="page-title">‘Peace Cartography’ in Bosnia-Herzegovina</h1>
</header>

  <div class="container">
    <div class="visual-column">
      <div class="image-stack">
        <div class="figure-container" data-step="1">
          <img src="figures/figure-1.jpg" class="figure" />
          <div class="caption"></div>
        </div>
        <div class="figure-container" data-step="2">
          <img src="figures/figure-2.jpg" class="figure" />
          <div class="caption"></div>
        </div>
        <div class="figure-container" data-step="3">
          <img src="figures/figure-3.jpg" class="figure" />
          <div class="caption"></div>
        </div>
        <div class="figure-container" data-step="4">
          <img src="figures/figure-4.jpg" class="figure" />
          <div class="caption"></div>
        </div>
        <div class="figure-container" data-step="5">
          <img src="figures/figure-5.jpg" class="figure" />
          <div class="caption"></div>
        </div>
      </div>
    </div>

    <div class="content-column">
      <div id="scrolly">
        <div class="step" data-step="0">
          The war in BiH started in 1992 after this country proclaimed independence from Yugoslavia and the ensuing aggression by the Yugoslav National Army under the control of Serbian ethno-nationalist elites. This led to a series of violent conflicts and war that was qualified as map-driven. Maps were continuously used by conflict parties and international negotiators, to claim territory, to document military control, or to divide the country on paper. Mapmaking also preceded the conflict as different parties produced competing visions of ethnic distribution in former Yugoslavia to indicate their desired territorial claims.
        </div>
        <div class="step" data-step="1">The multiethnic complexity of the country was somewhat evident in the official 1991 ethnic map, so-called ‘leopard skin’ map, which visualised the demographic composition in a more contextualised, detailed and complex way.</div>
        <div class="step" data-step="2">The maps created afterwards, during the war and in the postwar period, increasingly diminished the representation of multiethnicity (e.g. a high percentage of mixed marriages and families in urban areas) by visualising three majority ethnicities as homogenised groups with choropleth method.</div>
        <div class="step" data-step="3">During the peace negotiations in Dayton in 1995, the US negotiating team introduced a new software for delineating terrain, called Powerscene. It was supposed to produce a precise three-dimensional terrain simulation which would help draw territorial division lines in high detail. In retrospect, numerous US participants spoke with enthusiasm of this software and its supposedly objective approach to visualising territory. Its 3D simulation was so detailed that the participants could even see the streets and houses in which their families lived. But this visualisation also affected how participants saw land as empty, worthless or valuable, leading to specific decisions on how to divide it (more in Chapter 1).</div>
        <div class="step" data-step="4">In the fall of 1995, peace in BiH was finally brokered in the city of Dayton, Ohio with the Dayton Peace Agreement (DPA). The Inter-Entity Boundary Line (IEBL, entitetska linija) was drawn to divide the country by establishing two entities, the “Federation of Bosnia and Herzegovina” (FBiH) and the “Republika Srpska” (RS). The drawing of the IEBL followed ethnic and military criteria. The imposition of this criteria over complex spatial reality of BiH meant the line would need to cut through cities, villages, streets–in some areas, straight through the houses of people. But it also cut through landscapes, forests, mountains, rivers, lakes and other uninhabited land, often described as worthless during the negotiations (more in Chapter 2). </div>
        
      </div>
    </div>

    <div class="notes-column">
      <div class="footnotes">
        <p><sup>1</sup> The placement of footnotes or other content in this part</p>
        <p></p>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/scrollama"></script>
  <script>
    const captions = {
      1: "Ethnic Map of BiH (Markotić et al., 1991). Image credits: Bosniak Institute - Adil Zulfikarpašić.",
      2: "Ethnical majority map produced in 1996 by the International Management Group. Image credits: Bosniak Institute - Adil Zulfikarpašić.",
      3: "Screenshot taken from the WPSU‘s Geospatial Revolution series, Episode 3, on the use of Powerscene technology during the Dayton peace agreement talks. Used with permission.",
      4: "BiH territorial division, image by VisLab.",
      5: "Map 5 — optional caption or leave blank."
    };

     const scroller = scrollama();

  scroller
    .setup({
      step: ".step",
      offset: 0.5
    })
    .onStepEnter(response => {
      const step = response.element.getAttribute("data-step");

      document.querySelectorAll('.figure-container').forEach(container => {
        const containerStep = container.getAttribute("data-step");
        const isActive = step === containerStep;
        container.style.opacity = isActive ? 1 : 0;
        if (isActive) {
          const captionEl = container.querySelector('.caption');
          captionEl.textContent = captions[step] || "";
        }
      });

      if (step === "0") {
        document.querySelectorAll('.figure-container').forEach(c => c.style.opacity = 0);
      }

  
    });
  </script>
</body>
</html>
